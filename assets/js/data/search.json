[
  
  {
    "title": "Installing Pi-hole in my raspberry pi",
    "url": "/posts/installing-pihole/",
    "categories": "self-hosted",
    "tags": "raspberry-pi, dns",
    "date": "2024-01-01 00:00:00 -0500",
    





    
    "snippet": "Due to the high number of obnoxious ads in modern internet, I decided to block as muchas I can at a DNS level using Pi-hole in my RPi.  DNS (Domain Name System) is the one that allow us to use www....",
    "content": "Due to the high number of obnoxious ads in modern internet, I decided to block as muchas I can at a DNS level using Pi-hole in my RPi.  DNS (Domain Name System) is the one that allow us to use www.google.com instead of142.251.41.68. Basically it translate domains names (like facebook.com) to IP address (like 31.13.80.36), so we don’t have to remember a bunch of numbers.Installing itIt is pretty easy actually. You only have to runcurl -sSL https://install.pi-hole.net | bashAnd then, go through the questions in the terminal.  Running a random bash script from internet could be dangerous. Don’t do it if you don’t trustthe person (or group) that is providing it. In that case it is better to download it and verifyfirst before running it.In my case, I chose the default for everything and the Cloudflare servers as my upstream DNS.Post-InstallationChange the passwordDuring the installation, a new password for the web interface is showed. If you missed it, a newpassword can be generated running pihole -a -pNetworking settingsPi-hole can serve as DHCP, this is helpful to be sure all the hosts in the network are using Pi-hole as DNS. I wanted to enable it and set an static lease for my RPi and my modem/router.That can be done easily using the admin interface:  DHCP (Dynamic Host Configuration Protocol) is a protocol that assigns IP address (and other networking settings like DNS) to hosts that are just connecting to a network. This way it is not required anymore to set manually such settings to connect a computer.  In left bar, click on Settings      On the top, click on the DHCP tab.          On DHCP Settings:                  DHCP server enabled is unchecked (it will be enabled in the last step)          Set the range, in my case from: 192.168.2.1 to 192.168.2.254 (this is the range of possible IP address that the DHCP can assign)          Set the gateway, in my case 192.168.2.1                            On Static DHCP leases configuration        I write the MAC address, the current IP address and as hostname “raspberry-pi” and click in the “plus” button to the right.        I did the same for my router, but hostname is “steve” (for some reason, that is how my ISP calls this model).                  Set and static IP to my raspberry pi. During the installation it was told that Pi-hole needs an static IP and a static lease in a DHCP will work, however as in my case Pi-hole is also the DHCP server, I need to set an static IP manually.          I set an static lease for my rpi in step 2.2 to be sure the DHCP server doesn’t assign the same IP to another host.        To do this, you only need to modify a file in /etc/network/interfaces.d/ in my case that file is eth0 and it ended looking like this:     auto eth0 iface eth0 inet static         address 192.168.2.20/24         gateway 192.168.2.1 iface eth0 inet6 auto        Pretty simple, an address and its netmask with its gateway. IPv6 is still handled automatically.    Enable the DHCP using the web interface.  Disable the DHCP on my router. (I can not give much details here as there is too many different routers/modem given by the ISP in different countries. But it should be somewhere around Network Settings )  The last step is to make sure the RPi is using the Pi-hole DNS. To do this, modify its/etc/resolv.conf file to something like this:    domain lansearch lannameserver 192.168.2.20              the lan in domain and search can be changed, you only to be sure it matchs the Pi-hole domain name setting, which you can modified in the Pi-hole DHCP settings.      Now everything is set, all the things connected to my network will use the Pi-hole as DNS and I will see a lot less ads as consequence.  You can add additional blocklists (or use another one) to Pi-hole: In the left, click on Adlist, now you can write the URL that has the blocklist and a comment, then click on Add.At the bottom you can enable or disable any blocklist. Finally, you need to update list of blocked domains, on the left, click on Tools, then click on Update Gravity and now click on the Update buttom."
  },
  
  {
    "title": "Disabling Wifi and Bluetooth in RPi 4",
    "url": "/posts/disabling-wifi/",
    "categories": "self-hosted",
    "tags": "raspberry-pi, debian",
    "date": "2023-12-29 00:00:00 -0500",
    





    
    "snippet": "I started to use my raspberry pi 4 not long ago. As I use Debian the obvious choise was to flash the Raspberry Pi Debian image into the SD card.Now, as I’m planning connect it with a ethernet cable...",
    "content": "I started to use my raspberry pi 4 not long ago. As I use Debian the obvious choise was to flash the Raspberry Pi Debian image into the SD card.Now, as I’m planning connect it with a ethernet cable, I decided to disable the radio antennas.I tried to ways to achieve that.Disabling them using config.txtTo do that you only need to:  Create (or modify) /etc/default/raspi-firmware-custom with:    # Disable bluetooth and wifidtoverlay=disable-wifidtoverlay=disable-bt            Run update-initramfs -u -k all    This basically will update the /boot/firmware/config.txt with the above lines.    Remember that raspberry pi uses a config.txt file to modify the settings you would expect in the BIOS/UEFI in a normal PC.Now, after I restarted it, I noticed it didn’t work. Checking /etc/default/raspi-firmware I readMaybe not all options are supported..So, I proceed to disable the modules.Disabling the wifi/bt modules  Create this file /etc/modprobe.d/raspi-blacklist.conf and add:     # Disable wifi blacklist brcmfmac blacklist brcmutil # Disable bluetooth blacklist hci_uart blacklist btbcm blacklist btintel blacklist rfcom blacklist btqca blacklist btsdio blacklist bluetooth        RestartThis time it worked! \\o/."
  }
  
]

